# Financial Planning System - Production Environment Configuration
# Copy this file to .env.production and fill in your actual production values

# ============================================================================
# Project Configuration
# ============================================================================
ENVIRONMENT=production
DEBUG=false
TESTING=false

# ============================================================================
# Database Configuration (Use managed database in production)
# ============================================================================
POSTGRES_DB=financial_planning_prod
POSTGRES_USER=financial_planner_user
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_RANDOM_PASSWORD_MIN_32_CHARS
POSTGRES_PORT=5432

# Use your managed database URL (AWS RDS, Google Cloud SQL, etc.)
DATABASE_URL=postgresql+asyncpg://financial_planner_user:SECURE_PASSWORD@your-db-host:5432/financial_planning_prod

# ============================================================================
# Redis Configuration (Use managed Redis in production)
# ============================================================================
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_SECURE_REDIS_PASSWORD
REDIS_DB=0

# ============================================================================
# Application Ports
# ============================================================================
BACKEND_PORT=8000
FRONTEND_PORT=3000
FLOWER_PORT=5555

# ============================================================================
# Security Configuration (CRITICAL: Use strong values)
# ============================================================================
SECRET_KEY=REPLACE_WITH_CRYPTOGRAPHICALLY_SECURE_RANDOM_KEY_MIN_64_CHARS
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
MIN_PASSWORD_LENGTH=12
PASSWORD_HASH_ROUNDS=14

# ============================================================================
# CORS and Allowed Hosts (Restrict to your domains)
# ============================================================================
BACKEND_CORS_ORIGINS=["https://yourfinancialplanner.com","https://api.yourfinancialplanner.com"]
ALLOWED_HOSTS=["yourfinancialplanner.com","api.yourfinancialplanner.com","your-load-balancer-ip"]

# ============================================================================
# External API Configuration
# ============================================================================
# AI/LLM Configuration
OPENAI_API_KEY=your-production-openai-api-key
ANTHROPIC_API_KEY=your-production-anthropic-api-key
DEFAULT_LLM_PROVIDER=openai
LLM_MODEL=gpt-4
LLM_MAX_TOKENS=2000
LLM_TEMPERATURE=0.7

# Financial Data APIs
ALPHA_VANTAGE_API_KEY=your-production-alpha-vantage-key
YAHOO_FINANCE_API_KEY=your-production-yahoo-finance-key
IEX_CLOUD_API_KEY=your-production-iex-cloud-key

# Banking Integration
PLAID_CLIENT_ID=your-production-plaid-client-id
PLAID_SECRET=your-production-plaid-secret
PLAID_ENVIRONMENT=production

# ============================================================================
# Background Tasks & Celery
# ============================================================================
CELERY_BROKER_URL=redis://your-redis-host:6379/0
CELERY_RESULT_BACKEND=redis://your-redis-host:6379/0

# ============================================================================
# Monitoring & Flower
# ============================================================================
FLOWER_USER=admin
FLOWER_PASSWORD=REPLACE_WITH_SECURE_FLOWER_PASSWORD

# ============================================================================
# Monitoring and Logging
# ============================================================================
LOG_LEVEL=WARNING
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ENABLE_METRICS=true

# ============================================================================
# Email Configuration
# ============================================================================
SMTP_HOST=your-production-smtp-host
SMTP_PORT=587
SMTP_USERNAME=your-production-email-username
SMTP_PASSWORD=your-production-email-password
SMTP_TLS=true
FROM_EMAIL=noreply@yourfinancialplanner.com

# ============================================================================
# Rate Limiting (More restrictive for production)
# ============================================================================
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_HOUR=500

# ============================================================================
# Simulation Configuration
# ============================================================================
DEFAULT_MONTE_CARLO_ITERATIONS=100000
MAX_MONTE_CARLO_ITERATIONS=200000
SIMULATION_TIMEOUT_SECONDS=600
MAX_CONCURRENT_SIMULATIONS=20

# ============================================================================
# PDF Export Configuration
# ============================================================================
PDF_TEMPLATE_DIR=templates/pdf
PDF_OUTPUT_DIR=exports/pdf
MAX_PDF_SIZE_MB=25

# ============================================================================
# Audit and Compliance
# ============================================================================
AUDIT_LOG_RETENTION_DAYS=2555
COMPLIANCE_DISCLAIMER="Simulations are estimates, not guarantees. Past performance does not predict future results. Consult with a qualified financial advisor."
REQUIRED_DISCLAIMERS=["Simulations are estimates, not guarantees.","Past performance does not predict future results."]

# ============================================================================
# SSL/TLS Configuration (for HTTPS)
# ============================================================================
SSL_CERT_PATH=/etc/ssl/certs/yourfinancialplanner.com.crt
SSL_KEY_PATH=/etc/ssl/private/yourfinancialplanner.com.key

# ============================================================================
# Backup Configuration
# ============================================================================
BACKUP_RETENTION_DAYS=90
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_S3_BUCKET=your-backup-s3-bucket
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1