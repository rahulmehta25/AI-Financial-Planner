# Kafka Server Configuration for Financial Data Platform

# Broker Configuration
broker.id=1
listeners=PLAINTEXT://localhost:9092
advertised.listeners=PLAINTEXT://localhost:9092
port=9092
host.name=localhost

# Log Configuration
log.dirs=/opt/kafka/kafka-logs
num.network.threads=8
num.io.threads=16
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600

# Log Retention Configuration
log.retention.hours=168
log.retention.bytes=1073741824
log.segment.bytes=1073741824
log.retention.check.interval.ms=300000
log.cleanup.policy=delete

# Replication Configuration
default.replication.factor=3
min.insync.replicas=2
unclean.leader.election.enable=false
auto.leader.rebalance.enable=true

# Partition Configuration
num.partitions=8
auto.create.topics.enable=true

# Compression Configuration
compression.type=lz4

# Performance Tuning
message.max.bytes=10485760
replica.fetch.max.bytes=10485760
group.initial.rebalance.delay.ms=3000

# Zookeeper Configuration
zookeeper.connect=localhost:2181
zookeeper.connection.timeout.ms=18000
zookeeper.session.timeout.ms=18000

# Producer Configuration
producer.buffer.memory=33554432
producer.batch.size=16384
producer.linger.ms=5
producer.max.request.size=1048576

# Consumer Configuration
fetch.min.bytes=1
fetch.max.wait.ms=500
max.partition.fetch.bytes=1048576

# Security Configuration (for production)
# security.inter.broker.protocol=SASL_SSL
# sasl.mechanism.inter.broker.protocol=PLAIN
# sasl.enabled.mechanisms=PLAIN

# Monitoring and Metrics
jmx.port=9999
kafka.logs.dir=/opt/kafka/logs

# Performance Monitoring
metric.reporters=org.apache.kafka.common.metrics.JmxReporter
metrics.sample.window.ms=30000
metrics.num.samples=2

# Transaction Configuration
transaction.state.log.replication.factor=3
transaction.state.log.min.isr=2

# Quotas (for multi-tenant environments)
quota.producer.default=1048576
quota.consumer.default=2097152

# Cleanup Configuration
log.cleaner.enable=true
log.cleaner.threads=2
log.cleaner.io.max.bytes.per.second=104857600